"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ReservationConfirm=function(){function e(){_classCallCheck(this,e),this.buildVue(),this.event()}return _createClass(e,[{key:"buildVue",value:function(){var e=this,t=$("#ajax-dialog");t.modal("show"),console.log(window.state);var n=window.state||{};window.vue_state=Object.assign({},n),window.vue_state.reservation.date=moment(n.reservation.reservation_timestamp,"Y-M-D H:m:s"),this.vue=new Vue({el:"#app",data:vue_state,created:function(){},mounted:function(){setTimeout(function(){t.modal("hide")},690),e.event(),e.listener(),e.view(),this._initPaypal()},methods:{_initPaypal:function(){var e=this.reservation,t=e.deposit,n=e.confirm_id,i=e.outlet_id,a=this.paypal_token,o=this.paypal_url;window.paypal_authorize=new PayPalAuthorize(a,{amount:t,confirm_id:n,outlet_id:i},o)}}})}},{key:"_findView",value:function(){this._hasFindView||(this._hasFindView=!0,this.ajax_dialog=$("#ajax-dialog"))}},{key:"event",value:function(){this._findView(),document.addEventListener("PAYPAL_PAYMENT_SUCCESS",function(e){console.log(e);var t=e.detail,n=t.data.reservation;Object.assign(window.vue_state,{reservation:n})})}},{key:"view",value:function(){}},{key:"listener",value:function(){}}]),e}(),reservationConfirm=new ReservationConfirm;